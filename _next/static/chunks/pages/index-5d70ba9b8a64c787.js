(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5422:function(e,t,n){"use strict";var s,l;e.exports=(null==(s=n.g.process)?void 0:s.env)&&"object"==typeof(null==(l=n.g.process)?void 0:l.env)?n.g.process:n(2412)},6359:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(638)}])},638:function(e,t,n){"use strict";let s,l,a,r,o,i,c,u,d,m,x,p;n.r(t),n.d(t,{default:function(){return W}});var h=n(1527),v=n(9e3),g=n.n(v),b=n(7555),j=n.n(b),f=n(959),N=n(744),y=n(9163);function C(){return(0,f.useState)("init")}function S(e){let{status:t,onClick:n}=e;return"init"===t?(0,h.jsx)("button",{className:"text-rose-700 bg-zinc-900 px-2 rounded",onClick:n,children:"Load"}):"ready"===t?(0,h.jsx)("div",{className:"text-teal-600",children:"Ready"}):"loading"===t?(0,h.jsx)("div",{className:"text-gray-500",children:"Loading..."}):(0,h.jsx)("div",{className:"text-red-700",children:"Error loading"})}function w(e){let{className:t}=e,[n,l]=C(),[a,r]=(0,f.useState)((0,N.mK)()[0]),[o,i]=(0,f.useState)(void 0),[c,u]=(0,f.useState)(0),[d,m]=(0,f.useState)(100);function x(e){l("loading");let t=(0,y.k)();null!=s||(s=new N.E8(t));let n=new N.No(t,{instrument:e});n.output.addEffect("reverb",s,c),n.load.then(()=>{l("ready"),i(n)}).catch(e=>{l("error"),console.error("Instrument error",e)})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"DrumMachine"}),(0,h.jsx)(S,{status:n,onClick:()=>{x(a)}})]}),(0,h.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:a,onChange:e=>{let t=e.target.value;t!==a&&(r(t),x(t))},children:(0,N.mK)().map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("div",{children:"Vol:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==o||o.output.setVolume(t),m(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==o||o.output.sendEffect("reverb",t),u(t)}})]}),(0,h.jsx)("div",{className:"grid grid-cols-6 gap-1",children:null==o?void 0:o.getGroupNames().map(e=>(0,h.jsxs)("div",{className:"bg-zinc-900 rounded px-2 pb-2",children:[(0,h.jsx)("div",{className:"flex",children:(0,h.jsx)("button",{className:"text-left flex-grow",onClick:()=>{null==o||o.start({note:e,detune:50*(Math.random()-.5)})},children:e})}),(0,h.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:null==o?void 0:o.getSampleNamesForGroup(e).map(e=>(0,h.jsx)("button",{className:"bg-zinc-600 w-4 h-4 rounded",onPointerDown:()=>{null==o||o.start({note:e})}},e))})]},e))})]})]})}var k=n(6876);function E(e){let{instrument:t}=e,n=(0,f.useRef)(null),[s,l]=(0,f.useState)([]),[a,r]=(0,f.useState)(""),[o,i]=(0,f.useState)(),[c,u]=(0,f.useState)("");(0,f.useEffect)(()=>{void 0!==window.navigator&&void 0!==navigator.requestMIDIAccess&&k.u5.enable().then(()=>{l(k.u5.inputs.map(e=>e.name))})},[]),n.current=null!=t?t:null;let d=void 0!==o;function m(){null==o||o.forEach(e=>e.remove()),i(void 0)}function x(e){let t=k.u5.inputs.find(t=>t.name===e);if(!t){r("");return}r(e);let s=t.addListener("noteon",e=>{var t;let s={note:e.note.number,velocity:e.rawVelocity};null===(t=n.current)||void 0===t||t.start(s),u("".concat(s.note," (").concat(s.velocity,")"))}),l=t.addListener("noteoff",e=>{var t;null===(t=n.current)||void 0===t||t.stop({stopId:e.note.number}),u("")});i([...Array.isArray(s)?s:[s],...Array.isArray(l)?l:[l]])}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"px-1 rounded "+(d?"bg-emerald-600":"bg-zinc-700"),onClick:()=>{d?m():x(a)},children:"MIDI"}),(0,h.jsxs)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500 py-[2px]",value:a,onChange:e=>{let t=e.target.value;d&&m(),t&&x(t)},children:[(0,h.jsx)("option",{value:"",children:"Select MIDI device"}),s.map(e=>(0,h.jsx)("option",{value:e,children:e},e))]}),(0,h.jsx)("div",{className:"opacity-50",children:c})]})}var z=n(1576);let A=e=>[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>t+e),T=e=>[1,3,6,8,10].includes(e%12);function _(e){let{className:t,borderColor:n="border-blue-700",onPress:s,onRelease:l}=e,[a,r]=(0,f.useState)(100),[o,i]=(0,f.useState)(0),[c,u]=(0,f.useState)(60),[d,m]=(0,f.useState)(!1),x=e=>!1;function p(e){!d&&l&&l(e)}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsx)("div",{className:"piano-container border-t-8 ".concat(n),children:[...A(c),...A(c+12)].map(e=>T(e)?(0,h.jsx)("div",{className:"accidental-key__wrapper",children:(0,h.jsx)("button",{className:"accidental-key ".concat(x(e)?"accidental-key--playing":""),onPointerDown:()=>s({note:e,velocity:a,detune:o}),onPointerUp:()=>p(e),onPointerLeave:()=>p(e),children:(0,h.jsx)("div",{className:"text"})})},e):(0,h.jsx)("button",{className:"natural-key ".concat(x(e)?"natural-key--playing":""),onPointerDown:()=>s({note:e,velocity:a,detune:o}),onPointerUp:()=>p(e),onPointerLeave:()=>p(e),children:(0,h.jsx)("div",{className:"text"})},e))}),(0,h.jsxs)("div",{className:"flex gap-1 items-center mt-1",children:[(0,h.jsxs)("div",{children:["Octave: ",c,"-",c+12+11]}),(0,h.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{u(c-12)},children:"-"}),(0,h.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{u(c+12)},children:"+"}),(0,h.jsxs)("div",{className:"ml-3",children:["Velocity: ",a]}),(0,h.jsx)("input",{type:"range",min:0,max:127,value:a,onChange:e=>r(e.target.valueAsNumber)}),(0,h.jsxs)("div",{className:"ml-3",children:["Detune: ",o]}),(0,h.jsx)("input",{type:"range",min:-100,max:100,value:o,onChange:e=>i(e.target.valueAsNumber)}),(0,h.jsx)("input",{className:"ml-3",type:"checkbox",checked:d,onChange:e=>m(e.target.checked)}),(0,h.jsx)("div",{className:"",children:"Sustain"}),(0,h.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{let e=z.Ci.degrees("C4 major");z.e6.numeric([1,8,1]).map(e).map(z.jC.midi).map((e,t)=>s({note:null!=e?e:0,velocity:Math.floor(60+40*Math.random()),detune:0,time:.25*t,duration:.05}))},children:"Test"})]})]})}let I=(0,N.mb)();function P(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[a,r]=(0,f.useState)("CP80"),[o,i]=C(),[c,u]=(0,f.useState)(0),[d,m]=(0,f.useState)(0),[x,p]=(0,f.useState)(100);function v(e){n&&n.disconnect(),i("loading");let t=(0,y.k)();null!=l||(l=new N.E8(t));let a=new N.xU(t,{instrument:e,volume:x});a.output.addEffect("reverb",l,c),s(a),a.load.then(()=>{i("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Electric Piano"}),(0,h.jsx)(S,{status:o,onClick:()=>v(a)}),(0,h.jsx)(E,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:a,onChange:e=>{let t=e.target.value;v(t),r(t)},children:I.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),p(t)}}),(0,h.jsx)("div",{children:"Tremolo:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.tremolo.level(t),m(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,h.jsx)(_,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let V=(0,N.wz)();function R(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,r]=(0,f.useState)(V[0]),[o,i]=C(),[c,u]=(0,f.useState)(0),[d,m]=(0,f.useState)(100);function x(e){n&&n.disconnect(),i("loading");let t=(0,y.k)();null!=a||(a=new N.E8(t));let l=new N.Jp(t,{instrument:e,volume:d});l.output.addEffect("reverb",a,c),s(l),l.load.then(()=>{i("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Mallet"}),(0,h.jsx)(S,{status:o,onClick:()=>x(l)}),(0,h.jsx)(E,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;x(t),r(t)},children:V.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),m(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,h.jsx)(_,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let L=(0,N.Zx)();function D(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(L[0]),[o,i]=C(),[c,u]=(0,f.useState)(0),[d,m]=(0,f.useState)(100);function x(e){n&&n.disconnect(),i("loading");let t=(0,y.k)();null!=r||(r=new N.E8(t));let l=new N.a0(t,{instrument:e,volume:d});l.output.addEffect("reverb",r,c),s(l),l.load.then(()=>{i("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Mellotron"}),(0,h.jsx)(S,{status:o,onClick:()=>x(l)}),(0,h.jsx)(E,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;x(t),a(t)},children:L.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),m(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,h.jsx)(_,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let M=(0,N.co)();function F(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(M[0]),[r,c]=C(),[u,d]=(0,f.useState)(0),[m,x]=(0,f.useState)(100);function p(e){n&&n.disconnect(),c("loading");let t=(0,y.k)();null!=o||(o=new N.E8(t)),null!=i||(i=new N.xA("smolken"));let l=new N.TU(t,{instrument:e,volume:m});l.output.addEffect("reverb",o,u),s(l),l.load.then(()=>{c("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Smolken Double Bass"}),(0,h.jsx)(S,{status:r,onClick:()=>p(l)}),(0,h.jsx)(E,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:M.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),d(t)}})]}),(0,h.jsx)(_,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}var G=n(2768);let O={"Galaxy Electric Pianos":"https://smpldsnds.github.io/soundfonts/soundfonts/galaxy-electric-pianos.sf2","Giga MIDI":"https://smpldsnds.github.io/soundfonts/soundfonts/giga-hq-fm-gm.sf2",Supersaw:"https://smpldsnds.github.io/soundfonts/soundfonts/supersaw-collection.sf2"};Object.keys(O);let U=["Supersaw","Giga MIDI","Galaxy Electric Pianos"];function q(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(U[0]),[r,o]=(0,f.useState)(""),[i,u]=C(),[d,m]=(0,f.useState)(0),[x,p]=(0,f.useState)(100),[v,g]=(0,f.useState)(!1),[b,j]=(0,f.useState)("https://smpldsnds.github.io/soundfonts/soundfonts/yamaha-grand-lite.sf2");function w(e){n&&n.disconnect(),u("loading");let t=(0,y.k)(),l=e.startsWith("http");a(l?"_custom":e),null!=c||(c=new N.E8(t));let r=l?e:O[e],i=new N.Io(t,{url:r,createSoundfont:e=>new G.SoundFont2(e)});i.output.addEffect("reverb",c,d),s(i),i.load.then(e=>{let t=e.instrumentNames[0];o(t),e.loadInstrument(t),u("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Soundfont2"}),(0,h.jsx)("h2",{children:"Soundfont2 sampler"})]}),(0,h.jsx)("div",{children:"(experimental)"}),(0,h.jsx)(S,{status:i,onClick:()=>{v?w(b):w("Supersaw")}}),(0,h.jsx)(E,{instrument:n})]}),(0,h.jsxs)("div",{className:"my-2 flex gap-4",children:[(0,h.jsxs)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;"_custom"===t?(g(!0),a("_custom")):w(t)},children:[U.map(e=>(0,h.jsx)("option",{value:e,children:e},e)),(0,h.jsx)("option",{value:"_custom",children:"Custom URL"},"custom")]}),(0,h.jsx)("input",{className:"w-80 border p-1 bg-zinc-700 text-zinc-200 disabled:opacity-25",disabled:!v,placeholder:"https://example.com/soundfont.sf2",value:b,onChange:e=>{j(e.target.value)}})]}),(0,h.jsxs)("div",{className:"ready"!==i?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:r,onChange:e=>{let t=e.target.value;o(t),null==n||n.loadInstrument(t)},children:null==n?void 0:n.instrumentNames.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),p(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),m(t)}})]}),(0,h.jsx)(_,{borderColor:"border-blue-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function B(e){let{className:t}=e,[n,s]=C(),[l,a]=(0,f.useState)("disabled"),[r,o]=(0,f.useState)((0,N.zP)()[0]),[i,c]=(0,f.useState)("marimba"),[d,m]=(0,f.useState)(void 0),[x,p]=(0,f.useState)(0),[v,g]=(0,f.useState)(100);function b(e,t){let n=(0,y.k)();null!=u||(u=new N.E8(n));let l=new N.Be(n,{kit:e,instrument:t,loadLoopData:!0});l.output.addEffect("reverb",u,0),l.load.then(e=>{s("ready"),m(t=>(t&&t.disconnect(),e)),e.hasLoops&&a("loop")}).catch(e=>{s("error"),console.error("Instrument error",e)})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Soundfont"}),(0,h.jsx)(S,{status:n,onClick:()=>{b(r,i)}}),(0,h.jsx)(E,{instrument:{start:e=>{d&&d.start({...e,loop:"loop"===l})},stop:e=>{null==d||d.stop(e)}}})]}),(0,h.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:r,onChange:e=>{let t=e.target.value;b(t,i),o(t)},children:(0,N.zP)().map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:i,onChange:e=>{let t=e.target.value;b(r,t),c(t)},children:(0,N.Dy)().map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==d||d.stop()},children:"Stop all"}),(0,h.jsxs)("label",{"aria-disabled":"disabled"===l,className:"flex gap-2 ".concat("disabled"===l?"opacity-50":""),htmlFor:"loop",children:[(0,h.jsx)("input",{disabled:"disabled"===l,checked:"loop"===l,onChange:()=>{a(e=>"no-loop"===e?"loop":"no-loop")},type:"checkbox",id:"loop"}),"Loop"]})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:v,onChange:e=>{let t=e.target.valueAsNumber;null==d||d.output.setVolume(t),g(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==d||d.output.sendEffect("reverb",t),p(t)}})]}),(0,h.jsx)(_,{borderColor:"border-teal-600",onPress:e=>{var t;d&&d.start({...e,time:(null!==(t=e.time)&&void 0!==t?t:0)+d.context.currentTime,loop:"loop"===l})},onRelease:e=>{null==d||d.stop({stopId:e})}})]})]})}let K=[];function X(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(K[0]),[r,o]=C(),[i,c]=(0,f.useState)(0),[u,x]=(0,f.useState)(100);function p(e){n&&n.disconnect(),o("loading");let t=(0,y.k)();null!=d||(d=new N.E8(t)),null!=m||(m=new N.xA("smolken"));let l=new N.Dc(t,{instrument:e,volume:u});l.output.addEffect("reverb",d,i),s(l),l.load.then(()=>{o("ready")})}return(0,f.useEffect)(()=>{(0,N.o6)().then(e=>{K=e,a(e[0])})},[]),(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Versilian "}),(0,h.jsx)("h2",{children:"Versilian Community Sample Library"})]}),(0,h.jsx)("div",{children:"(experimental)"}),(0,h.jsx)(S,{status:r,onClick:()=>p(l)}),(0,h.jsx)(E,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:K.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),c(t)}})]}),(0,h.jsx)(_,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function J(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=C(),[r,o]=(0,f.useState)(0),[i,c]=(0,f.useState)(100);return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"SplendidGrandPiano"}),(0,h.jsx)(S,{status:l,onClick:function(){if(n)return;a("loading");let e=(0,y.k)();null!=x||(x=new N.E8(e)),null!=p||(p=new N.xA);let t=new N.ab(e,{volume:i,storage:p});t.output.addEffect("reverb",x,r),s(t),t.load.then(()=>{a("ready")})}}),(0,h.jsx)(E,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==l?"opacity-30":"",children:[(0,h.jsx)("div",{className:"flex gap-4 mb-2 no-select",children:(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:128,step:1,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),c(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:r,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),o(t)}})]}),(0,h.jsx)(_,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function W(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(j(),{children:[(0,h.jsx)("title",{children:"smplr"}),(0,h.jsx)("meta",{name:"description",content:"Plug and play web instruments"}),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,h.jsxs)("main",{className:"max-w-4xl mx-auto my-20 p-4"+g().className,children:[(0,h.jsx)("div",{className:"flex items-end mb-16",children:(0,h.jsx)("h1",{className:"text-6xl font-bold",children:"smplr"})}),(0,h.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,h.jsx)(J,{}),(0,h.jsx)(B,{}),(0,h.jsx)(P,{}),(0,h.jsx)(R,{}),(0,h.jsx)(w,{}),(0,h.jsx)(D,{}),(0,h.jsx)(F,{}),(0,h.jsx)(X,{}),(0,h.jsx)(q,{})]})]})]})}},9e3:function(e){e.exports={style:{fontFamily:"'__Inter_c0bb0b', '__Inter_Fallback_c0bb0b'",fontStyle:"normal"},className:"__className_c0bb0b"}},2412:function(e){!function(){var t={229:function(e){var t,n,s,l=e.exports={};function a(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var i=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?i=s.concat(i):u=-1,i.length&&m())}function m(){if(!c){var e=o(d);c=!0;for(var t=i.length;t;){for(s=i,i=[];++u<t;)s&&s[u].run();u=-1,t=i.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function p(){}l.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];i.push(new x(e,t)),1!==i.length||c||o(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=p,l.addListener=p,l.once=p,l.off=p,l.removeListener=p,l.removeAllListeners=p,l.emit=p,l.prependListener=p,l.prependOnceListener=p,l.listeners=function(e){return[]},l.binding=function(e){throw Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw Error("process.chdir is not supported")},l.umask=function(){return 0}}},n={};function s(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}},r=!0;try{t[e](a,a.exports,s),r=!1}finally{r&&delete n[e]}return a.exports}s.ab="//";var l=s(229);e.exports=l}()}},function(e){e.O(0,[143,182,714,810,888,774,179],function(){return e(e.s=6359)}),_N_E=e.O()}]);