(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6359:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(638)}])},638:function(e,t,n){"use strict";let s,l,a,r,o,i,d,c,u,x,m,p;n.r(t),n.d(t,{default:function(){return W}});var h=n(1527),v=n(9e3),g=n.n(v),j=n(7555),b=n.n(j),f=n(959),N=n(744),y=n(9163);function C(){return(0,f.useState)("init")}function S(e){let{status:t,onClick:n}=e;return"init"===t?(0,h.jsx)("button",{className:"text-rose-700 bg-zinc-900 px-2 rounded",onClick:n,children:"Load"}):"ready"===t?(0,h.jsx)("div",{className:"text-teal-600",children:"Ready"}):"loading"===t?(0,h.jsx)("div",{className:"text-gray-500",children:"Loading..."}):(0,h.jsx)("div",{className:"text-red-700",children:"Error loading"})}function w(e){let{className:t}=e,[n,l]=C(),[a,r]=(0,f.useState)((0,N.mK)()[0]),[o,i]=(0,f.useState)(void 0),[d,c]=(0,f.useState)(0),[u,x]=(0,f.useState)(100);function m(e){l("loading");let t=(0,y.k)();null!=s||(s=new N.E8(t));let n=new N.No(t,{instrument:e});n.output.addEffect("reverb",s,d),n.load.then(()=>{l("ready"),i(n)}).catch(e=>{l("error"),console.error("Instrument error",e)})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"DrumMachine"}),(0,h.jsx)(S,{status:n,onClick:()=>{m(a)}})]}),(0,h.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:a,onChange:e=>{let t=e.target.value;t!==a&&(r(t),m(t))},children:(0,N.mK)().map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("div",{children:"Vol:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==o||o.output.setVolume(t),x(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==o||o.output.sendEffect("reverb",t),c(t)}})]}),(0,h.jsx)("div",{className:"grid grid-cols-6 gap-1",children:null==o?void 0:o.getGroupNames().map(e=>(0,h.jsxs)("div",{className:"bg-zinc-900 rounded px-2 pb-2",children:[(0,h.jsx)("div",{className:"flex",children:(0,h.jsx)("button",{className:"text-left flex-grow",onClick:()=>{null==o||o.start({note:e,detune:50*(Math.random()-.5)})},children:e})}),(0,h.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:null==o?void 0:o.getSampleNamesForGroup(e).map(e=>(0,h.jsx)("button",{className:"bg-zinc-600 w-4 h-4 rounded",onPointerDown:()=>{null==o||o.start({note:e})}},e))})]},e))})]})]})}var k=n(6876);function z(e){let{instrument:t}=e,n=(0,f.useRef)(null),[s,l]=(0,f.useState)([]),[a,r]=(0,f.useState)(""),[o,i]=(0,f.useState)(),[d,c]=(0,f.useState)("");(0,f.useEffect)(()=>{void 0!==window.navigator&&void 0!==navigator.requestMIDIAccess&&k.u5.enable().then(()=>{l(k.u5.inputs.map(e=>e.name))})},[]),n.current=null!=t?t:null;let u=void 0!==o;function x(){null==o||o.forEach(e=>e.remove()),i(void 0)}function m(e){let t=k.u5.inputs.find(t=>t.name===e);if(!t){r("");return}r(e);let s=t.addListener("noteon",e=>{var t;let s={note:e.note.number,velocity:e.rawVelocity};null===(t=n.current)||void 0===t||t.start(s),c("".concat(s.note," (").concat(s.velocity,")"))}),l=t.addListener("noteoff",e=>{var t;null===(t=n.current)||void 0===t||t.stop({stopId:e.note.number}),c("")});i([...Array.isArray(s)?s:[s],...Array.isArray(l)?l:[l]])}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"px-1 rounded "+(u?"bg-emerald-600":"bg-zinc-700"),onClick:()=>{u?x():m(a)},children:"MIDI"}),(0,h.jsxs)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500 py-[2px]",value:a,onChange:e=>{let t=e.target.value;u&&x(),t&&m(t)},children:[(0,h.jsx)("option",{value:"",children:"Select MIDI device"}),s.map(e=>(0,h.jsx)("option",{value:e,children:e},e))]}),(0,h.jsx)("div",{className:"opacity-50",children:d})]})}var E=n(1576);let A=e=>[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>t+e),P=e=>[1,3,6,8,10].includes(e%12);function I(e){let{className:t,borderColor:n="border-blue-700",onPress:s,onRelease:l}=e,[a,r]=(0,f.useState)(100),[o,i]=(0,f.useState)(0),[d,c]=(0,f.useState)(60),[u,x]=(0,f.useState)(!1),m=e=>!1;function p(e){!u&&l&&l(e)}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsx)("div",{className:"piano-container border-t-8 ".concat(n),children:[...A(d),...A(d+12)].map(e=>P(e)?(0,h.jsx)("div",{className:"accidental-key__wrapper",children:(0,h.jsx)("button",{className:"accidental-key ".concat(m(e)?"accidental-key--playing":""),onPointerDown:()=>s({note:e,velocity:a,detune:o}),onPointerUp:()=>p(e),onPointerLeave:()=>p(e),children:(0,h.jsx)("div",{className:"text"})})},e):(0,h.jsx)("button",{className:"natural-key ".concat(m(e)?"natural-key--playing":""),onPointerDown:()=>s({note:e,velocity:a,detune:o}),onPointerUp:()=>p(e),onPointerLeave:()=>p(e),children:(0,h.jsx)("div",{className:"text"})},e))}),(0,h.jsxs)("div",{className:"flex gap-1 items-center mt-1",children:[(0,h.jsxs)("div",{children:["Octave: ",d,"-",d+12+11]}),(0,h.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{c(d-12)},children:"-"}),(0,h.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{c(d+12)},children:"+"}),(0,h.jsxs)("div",{className:"ml-3",children:["Velocity: ",a]}),(0,h.jsx)("input",{type:"range",min:0,max:127,value:a,onChange:e=>r(e.target.valueAsNumber)}),(0,h.jsxs)("div",{className:"ml-3",children:["Detune: ",o]}),(0,h.jsx)("input",{type:"range",min:-100,max:100,value:o,onChange:e=>i(e.target.valueAsNumber)}),(0,h.jsx)("input",{className:"ml-3",type:"checkbox",checked:u,onChange:e=>x(e.target.checked)}),(0,h.jsx)("div",{className:"",children:"Sustain"}),(0,h.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{let e=E.Ci.degrees("C4 major");E.e6.numeric([1,8,1]).map(e).map(E.jC.np).map((e,t)=>s({note:null!=e?e:0,velocity:Math.floor(60+40*Math.random()),detune:0,time:.25*t,duration:.05}))},children:"Test"})]})]})}let V=(0,N.mb)();function R(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[a,r]=(0,f.useState)("CP80"),[o,i]=C(),[d,c]=(0,f.useState)(0),[u,x]=(0,f.useState)(0),[m,p]=(0,f.useState)(100);function v(e){n&&n.disconnect(),i("loading");let t=(0,y.k)();null!=l||(l=new N.E8(t));let a=new N.xU(t,{instrument:e,volume:m});a.output.addEffect("reverb",l,d),s(a),a.load.then(()=>{i("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Electric Piano"}),(0,h.jsx)(S,{status:o,onClick:()=>v(a)}),(0,h.jsx)(z,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:a,onChange:e=>{let t=e.target.value;v(t),r(t)},children:V.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),p(t)}}),(0,h.jsx)("div",{children:"Tremolo:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.tremolo.level(t),x(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),c(t)}})]}),(0,h.jsx)(I,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let _=(0,N.wz)();function D(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,r]=(0,f.useState)(_[0]),[o,i]=C(),[d,c]=(0,f.useState)(0),[u,x]=(0,f.useState)(100);function m(e){n&&n.disconnect(),i("loading");let t=(0,y.k)();null!=a||(a=new N.E8(t));let l=new N.Jp(t,{instrument:e,volume:u});l.output.addEffect("reverb",a,d),s(l),l.load.then(()=>{i("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Mallet"}),(0,h.jsx)(S,{status:o,onClick:()=>m(l)}),(0,h.jsx)(z,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;m(t),r(t)},children:_.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),c(t)}})]}),(0,h.jsx)(I,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let T=(0,N.Zx)();function L(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(T[0]),[o,i]=C(),[d,c]=(0,f.useState)(0),[u,x]=(0,f.useState)(100);function m(e){n&&n.disconnect(),i("loading");let t=(0,y.k)();null!=r||(r=new N.E8(t));let l=new N.a0(t,{instrument:e,volume:u});l.output.addEffect("reverb",r,d),s(l),l.load.then(()=>{i("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Mellotron"}),(0,h.jsx)(S,{status:o,onClick:()=>m(l)}),(0,h.jsx)(z,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;m(t),a(t)},children:T.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),c(t)}})]}),(0,h.jsx)(I,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let M=(0,N.co)();function G(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(M[0]),[r,d]=C(),[c,u]=(0,f.useState)(0),[x,m]=(0,f.useState)(100);function p(e){n&&n.disconnect(),d("loading");let t=(0,y.k)();null!=o||(o=new N.E8(t)),null!=i||(i=new N.xA("smolken"));let l=new N.TU(t,{instrument:e,volume:x});l.output.addEffect("reverb",o,c),s(l),l.load.then(()=>{d("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Smolken Double Bass"}),(0,h.jsx)(S,{status:r,onClick:()=>p(l)}),(0,h.jsx)(z,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:M.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),m(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,h.jsx)(I,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}var F=n(2768);let U={"Galaxy Electric Pianos":"https://smpldsnds.github.io/soundfonts/soundfonts/galaxy-electric-pianos.sf2","Giga MIDI":"https://smpldsnds.github.io/soundfonts/soundfonts/giga-hq-fm-gm.sf2",Supersaw:"https://smpldsnds.github.io/soundfonts/soundfonts/supersaw-collection.sf2"};Object.keys(U);let O=["Supersaw","Giga MIDI","Galaxy Electric Pianos"];function q(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(O[0]),[r,o]=(0,f.useState)(""),[i,c]=C(),[u,x]=(0,f.useState)(0),[m,p]=(0,f.useState)(100),[v,g]=(0,f.useState)(!1),[j,b]=(0,f.useState)("https://smpldsnds.github.io/soundfonts/soundfonts/yamaha-grand-lite.sf2");function w(e){n&&n.disconnect(),c("loading");let t=(0,y.k)(),l=e.startsWith("http");a(l?"_custom":e),null!=d||(d=new N.E8(t));let r=l?e:U[e],i=new N.Io(t,{url:r,createSoundfont:e=>new F.SoundFont2(e)});i.output.addEffect("reverb",d,u),s(i),i.load.then(e=>{let t=e.instrumentNames[0];o(t),e.loadInstrument(t),c("ready")})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Soundfont2"}),(0,h.jsx)("h2",{children:"Soundfont2 sampler"})]}),(0,h.jsx)("div",{children:"(experimental)"}),(0,h.jsx)(S,{status:i,onClick:()=>{v?w(j):w("Supersaw")}}),(0,h.jsx)(z,{instrument:n})]}),(0,h.jsxs)("div",{className:"my-2 flex gap-4",children:[(0,h.jsxs)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;"_custom"===t?(g(!0),a("_custom")):w(t)},children:[O.map(e=>(0,h.jsx)("option",{value:e,children:e},e)),(0,h.jsx)("option",{value:"_custom",children:"Custom URL"},"custom")]}),(0,h.jsx)("input",{className:"w-80 border p-1 bg-zinc-700 text-zinc-200 disabled:opacity-25",disabled:!v,placeholder:"https://example.com/soundfont.sf2",value:j,onChange:e=>{b(e.target.value)}})]}),(0,h.jsxs)("div",{className:"ready"!==i?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:r,onChange:e=>{let t=e.target.value;o(t),null==n||n.loadInstrument(t)},children:null==n?void 0:n.instrumentNames.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),p(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),x(t)}})]}),(0,h.jsx)(I,{borderColor:"border-blue-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function B(e){let{className:t}=e,[n,s]=C(),[l,a]=(0,f.useState)("disabled"),[r,o]=(0,f.useState)((0,N.zP)()[0]),[i,d]=(0,f.useState)("marimba"),[u,x]=(0,f.useState)(void 0),[m,p]=(0,f.useState)(0),[v,g]=(0,f.useState)(100);function j(e,t){let n=(0,y.k)();null!=c||(c=new N.E8(n));let l=new N.Be(n,{kit:e,instrument:t,loadLoopData:!0});l.output.addEffect("reverb",c,0),l.load.then(e=>{s("ready"),x(t=>(t&&t.disconnect(),e)),e.hasLoops&&a("loop")}).catch(e=>{s("error"),console.error("Instrument error",e)})}return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Soundfont"}),(0,h.jsx)(S,{status:n,onClick:()=>{j(r,i)}}),(0,h.jsx)(z,{instrument:{start:e=>{u&&u.start({...e,loop:"loop"===l})},stop:e=>{null==u||u.stop(e)}}})]}),(0,h.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:r,onChange:e=>{let t=e.target.value;j(t,i),o(t)},children:(0,N.zP)().map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:i,onChange:e=>{let t=e.target.value;j(r,t),d(t)},children:(0,N.Dy)().map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==u||u.stop()},children:"Stop all"}),(0,h.jsxs)("label",{"aria-disabled":"disabled"===l,className:"flex gap-2 ".concat("disabled"===l?"opacity-50":""),htmlFor:"loop",children:[(0,h.jsx)("input",{disabled:"disabled"===l,checked:"loop"===l,onChange:()=>{a(e=>"no-loop"===e?"loop":"no-loop")},type:"checkbox",id:"loop"}),"Loop"]})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:v,onChange:e=>{let t=e.target.valueAsNumber;null==u||u.output.setVolume(t),g(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==u||u.output.sendEffect("reverb",t),p(t)}})]}),(0,h.jsx)(I,{borderColor:"border-teal-600",onPress:e=>{var t;u&&u.start({...e,time:(null!==(t=e.time)&&void 0!==t?t:0)+u.context.currentTime,loop:"loop"===l})},onRelease:e=>{null==u||u.stop({stopId:e})}})]})]})}let K=[];function X(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(K[0]),[r,o]=C(),[i,d]=(0,f.useState)(0),[c,m]=(0,f.useState)(100);function p(e){n&&n.disconnect(),o("loading");let t=(0,y.k)();null!=u||(u=new N.E8(t)),null!=x||(x=new N.xA("smolken"));let l=new N.Dc(t,{instrument:e,volume:c});l.output.addEffect("reverb",u,i),s(l),l.load.then(()=>{o("ready")})}return(0,f.useEffect)(()=>{(0,N.o6)().then(e=>{K=e,a(e[0])})},[]),(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Versilian "}),(0,h.jsx)("h2",{children:"Versilian Community Sample Library"})]}),(0,h.jsx)("div",{children:"(experimental)"}),(0,h.jsx)(S,{status:r,onClick:()=>p(l)}),(0,h.jsx)(z,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:K.map(e=>(0,h.jsx)("option",{value:e,children:e},e))}),(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:127,step:1,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),m(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),d(t)}})]}),(0,h.jsx)(I,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function J(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=C(),[r,o]=(0,f.useState)(0),[i,d]=(0,f.useState)(100);return(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,h.jsx)("h1",{className:"text-3xl",children:"Piano"}),(0,h.jsx)(S,{status:l,onClick:function(){if(n)return;a("loading");let e=(0,y.k)();null!=m||(m=new N.E8(e)),null!=p||(p=new N.xA);let t=new N.ab(e,{volume:i,storage:p});t.output.addEffect("reverb",m,r),s(t),t.load.then(()=>{a("ready")})}}),(0,h.jsx)(z,{instrument:n})]}),(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:"ready"!==l?"opacity-30":"",children:[(0,h.jsx)("div",{className:"flex gap-4 mb-2 no-select",children:(0,h.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})}),(0,h.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,h.jsx)("div",{children:"Volume:"}),(0,h.jsx)("input",{type:"range",min:0,max:128,step:1,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),d(t)}}),(0,h.jsx)("div",{children:"Reverb:"}),(0,h.jsx)("input",{type:"range",min:0,max:1,step:.001,value:r,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),o(t)}})]}),(0,h.jsx)(I,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function W(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(b(),{children:[(0,h.jsx)("title",{children:"smplr"}),(0,h.jsx)("meta",{name:"description",content:"Plug and play web instruments"}),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,h.jsxs)("main",{className:"max-w-4xl mx-auto my-20 p-4"+g().className,children:[(0,h.jsx)("div",{className:"flex items-end mb-16",children:(0,h.jsx)("h1",{className:"text-6xl font-bold",children:"smplr"})}),(0,h.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,h.jsx)(J,{}),(0,h.jsx)(B,{}),(0,h.jsx)(R,{}),(0,h.jsx)(D,{}),(0,h.jsx)(w,{}),(0,h.jsx)(L,{}),(0,h.jsx)(G,{}),(0,h.jsx)(X,{}),(0,h.jsx)(q,{})]})]})]})}}},function(e){e.O(0,[143,182,491,810,888,774,179],function(){return e(e.s=6359)}),_N_E=e.O()}]);