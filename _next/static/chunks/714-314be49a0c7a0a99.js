(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{7555:function(n,e,t){n.exports=t(2011)},1576:function(n,e,t){"use strict";t.d(e,{jC:function(){return m},e6:function(){return r},Ci:function(){return i}});var m={};t.r(m),t.d(m,{accidentals:function(){return ng},ascending:function(){return nB},chroma:function(){return nI},default:function(){return nH},descending:function(){return nG},distance:function(){return nC},enharmonic:function(){return nR},freq:function(){return nN},fromFreq:function(){return nD},fromFreqSharps:function(){return nw},fromMidi:function(){return nx},fromMidiSharps:function(){return nV},get:function(){return nb},midi:function(){return nj},name:function(){return nA},names:function(){return np},octave:function(){return nv},pitchClass:function(){return ny},simplify:function(){return n_},sortedNames:function(){return nU},sortedUniqNames:function(){return nL},tr:function(){return nq},trBy:function(){return nk},trFifths:function(){return n$},trFrom:function(){return nO},transpose:function(){return nS},transposeBy:function(){return nE},transposeFifths:function(){return nT},transposeFrom:function(){return nF},transposeOctaves:function(){return nz}});var r={};t.r(r),t.d(r,{chromatic:function(){return n0},default:function(){return n6},numeric:function(){return n2}});var i={};function a(n){return null!==n&&"object"==typeof n&&"name"in n&&"string"==typeof n.name}function o(n){return null!==n&&"object"==typeof n&&"step"in n&&"number"==typeof n.step&&"alt"in n&&"number"==typeof n.alt&&!isNaN(n.step)&&!isNaN(n.alt)}t.r(i),t.d(i,{default:function(){return ec},degrees:function(){return es},detect:function(){return er},extended:function(){return ea},get:function(){return et},modeNames:function(){return eP},names:function(){return ee},rangeOf:function(){return eM},reduced:function(){return eo},scale:function(){return em},scaleChords:function(){return ei},scaleNotes:function(){return eu},steps:function(){return el},tokenize:function(){return en}});var u=[0,2,4,-1,1,3,5],P=u.map(n=>Math.floor(7*n/12));function M(n){let{step:e,alt:t,oct:m,dir:r=1}=n,i=u[e]+7*t;return void 0===m?[r*i]:[r*i,r*(m-P[e]-4*t)]}var s=[3,0,4,1,5,2,6];function l(n){let[e,t,m]=n,r=s[function(n){let e=(n+1)%7;return e<0?7+e:e}(e)],i=Math.floor((e+1)/7);if(void 0===t)return{step:r,alt:i,dir:m};let a=t+4*i+P[r];return{step:r,alt:i,oct:a,dir:m}}var c=(n,e)=>Array(Math.abs(e)+1).join(n),d=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),h=RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$"),f={};function p(n){return"string"==typeof n?f[n]||(f[n]=function(n){let e=function(n){let e=h.exec(`${n}`);return null===e?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}(n);if(""===e[0])return d;let t=+e[0],m=e[1],r=(Math.abs(t)-1)%7,i=A[r];if("M"===i&&"P"===m)return d;let a="M"===i?"majorable":"perfectable",o=""+t+m,u=t<0?-1:1,P=8===t||-8===t?t:u*(r+1),s="M"===m&&"majorable"===a||"P"===m&&"perfectable"===a?0:"m"===m&&"majorable"===a?-1:/^A+$/.test(m)?m.length:/^d+$/.test(m)?-1*("perfectable"===a?m.length:m.length+1):0,l=Math.floor((Math.abs(t)-1)/7),c=u*(b[r]+s+12*l),f=(u*(b[r]+s)%12+12)%12,p=M({step:r,alt:s,oct:l,dir:u});return{empty:!1,name:o,num:t,q:m,step:r,alt:s,dir:u,type:a,simple:P,semitones:c,chroma:f,coord:p,oct:l}}(n)):o(n)?p(function(n){let{step:e,alt:t,oct:m=0,dir:r}=n;if(!r)return"";let i=e+1+7*m,a="M"===A[e]?"majorable":"perfectable";return(r<0?"-":"")+(0===i?e+1:i)+(0===t?"majorable"===a?"M":"P":-1===t&&"majorable"===a?"m":t>0?c("A",t):c("d","perfectable"===a?t:t+1))}(n)):a(n)?p(n.name):d}var b=[0,2,4,5,7,9,11],A="PMMPPMM";function y(n,e){let[t,m=0]=n;return p(l(e||7*t+12*m<0?[-t,-m,-1]:[t,m,1]))}var g=(n,e)=>Array(Math.abs(e)+1).join(n),v=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),j=new Map,N=n=>"CDEFGAB".charAt(n),I=n=>n<0?g("b",-n):g("#",n),x=n=>"b"===n[0]?-n.length:n.length;function D(n){let e=JSON.stringify(n),t=j.get(e);if(t)return t;let m="string"==typeof n?function(n){let e=V(n);if(""===e[0]||""!==e[3])return v;let t=e[0],m=e[1],r=e[2],i=(t.charCodeAt(0)+3)%7,a=x(m),o=r.length?+r:void 0,u=M({step:i,alt:a,oct:o}),P=t+m+r,s=t+m,l=(S[i]+a+120)%12,c=void 0===o?C(S[i]+a,12)-1188:S[i]+a+12*(o+1);return{empty:!1,acc:m,alt:a,chroma:l,coord:u,freq:void 0===o?null:440*Math.pow(2,(c-69)/12),height:c,letter:t,midi:c>=0&&c<=127?c:null,name:P,oct:o,pc:s,step:i}}(n):o(n)?D(function(n){let{step:e,alt:t,oct:m}=n,r=N(e);if(!r)return"";let i=r+I(t);return m||0===m?i+m:i}(n)):a(n)?D(n.name):v;return j.set(e,m),m}var w=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function V(n){let e=w.exec(n);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}var C=(n,e)=>(n%e+e)%e,S=[0,2,4,5,7,9,11];function q(n,e){let t=D(n),m=Array.isArray(e)?e:p(e).coord;if(t.empty||!m||m.length<2)return"";let r=t.coord;return D(l(1===r.length?[r[0]+m[0]]:[r[0]+m[0],r[1]+m[1]])).name}function E(n,e){let t=n.length;return m=>{if(!e)return"";let r=q(e,[0,Math.floor(m/t)]);return q(r,n[m<0?(t- -m%t)%t:m%t])}}function k(n,e){let t=D(n),m=D(e);if(t.empty||m.empty)return"";let r=t.coord,i=m.coord,a=i[0]-r[0],o=2===r.length&&2===i.length?i[1]-r[1]:-Math.floor(7*a/12);return y([a,o],m.height===t.height&&null!==m.midi&&t.oct===m.oct&&t.step>m.step).name}function F(n,e){return n<e?function(n,e){let t=[];for(;e--;t[e]=e+n);return t}(n,e-n+1):function(n,e){let t=[];for(;e--;t[e]=n-e);return t}(n,n-e+1)}function O(n,e){let t=e.length,m=(n%t+t)%t;return e.slice(m,t).concat(e.slice(0,m))}function T(n){return n.filter(n=>0===n||n)}var $={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},z=n=>Number(n).toString(2).padStart(12,"0"),B=n=>parseInt(n,2),G=/^[01]{12}$/;function U(n){return G.test(n)}var L=n=>"number"==typeof n&&n>=0&&n<=4095,_=n=>n&&U(n.chroma),R={[$.chroma]:$};function H(n){let e=U(n)?n:L(n)?z(n):Array.isArray(n)?function(n){let e;if(0===n.length)return $.chroma;let t=[0,0,0,0,0,0,0,0,0,0,0,0];for(let m=0;m<n.length;m++)(e=D(n[m])).empty&&(e=p(n[m])),e.empty||(t[e.chroma]=1);return t.join("")}(n):_(n)?n.chroma:$.chroma;return R[e]=R[e]||function(n){let e=B(n),t=z((function(n){let e=n.split("");return e.map((n,t)=>O(t,e).join(""))})(n).map(B).filter(n=>n>=2048).sort()[0]),m=function(n){let e=[];for(let t=0;t<12;t++)"1"===n.charAt(t)&&e.push(W[t]);return e}(n);return{empty:!1,name:"",setNum:e,chroma:n,normalized:t,intervals:m}}(e)}var J=n=>H(n).chroma,W=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function K(n){let e=H(n).setNum;return n=>{let t=H(n).setNum;return e&&e!==t&&(t&e)===t}}var Q={...$,name:"",quality:"Unknown",intervals:[],aliases:[]},X=[],Y={};[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim \xb0 o"],["1P 3m 5d 7d","diminished seventh","dim7 \xb07 o7"],["1P 3m 5d 7m","half-diminished","m7b5 \xf8 -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach(([n,e,t])=>(function(n,e,t){let m=function(n){let e=e=>-1!==n.indexOf(e);return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}(n),r={...H(n),name:t||"",quality:m,intervals:n,aliases:e};X.push(r),r.name&&(Y[r.name]=r),Y[r.setNum]=r,Y[r.chroma]=r,r.aliases.forEach(n=>{Y[n]=r})})(n.split(" "),t.split(" "),e)),X.sort((n,e)=>n.setNum-e.setNum);var Z=n=>e=>!!(e&n);Z(384),Z(16),Z(3),Z(40),ne((n,e)=>[n[0]+e[0],n[1]+e[1]]);var nn=ne((n,e)=>[n[0]-e[0],n[1]-e[1]]);function ne(n){return(e,t)=>{let m=p(e).coord,r=p(t).coord;if(m&&r)return y(n(m,r)).name}}var nt={...$,intervals:[],aliases:[]},nm=[],nr={};function ni(){return nm.slice()}[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach(([n,e,...t])=>(function(n,e,t=[]){let m={...H(n),name:e,intervals:n,aliases:t};return nm.push(m),nr[m.name]=m,nr[m.setNum]=m,nr[m.chroma]=m,m.aliases.forEach(n=>{nr[n]=m}),m})(n.split(" "),e,t));var na={empty:!0,name:"",symbol:"",root:"",bass:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},no=[];[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]].forEach(([n,e,t])=>{no.push({empty:!1,dots:"",name:"",value:1/n,fraction:n<1?[1/n,1]:[1,n],shorthand:e,names:t})});var nu=Math.log(2),nP=Math.log(440);function nM(n){return Math.round(100*(12*(Math.log(n)-nP)/nu+69))/100}var ns="C C# D D# E F F# G G# A A# B".split(" "),nl="C Db D Eb E F Gb G Ab A Bb B".split(" ");function nc(n,e={}){if(isNaN(n)||n===-1/0||n===1/0)return"";n=Math.round(n);let t=(!0===e.sharps?ns:nl)[n%12];return e.pitchClass?t:t+(Math.floor(n/12)-1)}var nd=["C","D","E","F","G","A","B"],nh=n=>n.name,nf=n=>n.map(D).filter(n=>!n.empty);function np(n){return void 0===n?nd.slice():Array.isArray(n)?nf(n).map(nh):[]}var nb=D,nA=n=>nb(n).name,ny=n=>nb(n).pc,ng=n=>nb(n).acc,nv=n=>nb(n).oct,nj=n=>nb(n).midi,nN=n=>nb(n).freq,nI=n=>nb(n).chroma;function nx(n){return nc(n)}function nD(n){return nc(nM(n))}function nw(n){return nc(nM(n),{sharps:!0})}function nV(n){return nc(n,{sharps:!0})}var nC=k,nS=q,nq=q,nE=n=>e=>nS(e,n),nk=nE,nF=n=>e=>nS(n,e),nO=nF;function nT(n,e){return nS(n,[e,0])}var n$=nT;function nz(n,e){return nS(n,[0,e])}var nB=(n,e)=>n.height-e.height,nG=(n,e)=>e.height-n.height;function nU(n,e){return e=e||nB,nf(n).sort(e).map(nh)}function nL(n){return nU(n,nB).filter((n,e,t)=>0===e||n!==t[e-1])}var n_=n=>{let e=nb(n);return e.empty?"":nc(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:null===e.midi})};function nR(n,e){let t=nb(n);if(t.empty)return"";let m=nb(e||nc(t.midi||t.chroma,{sharps:t.alt<0,pitchClass:!0}));if(m.empty||m.chroma!==t.chroma)return"";if(void 0===t.oct)return m.pc;let r=t.chroma-t.alt,i=m.chroma-m.alt,a=t.oct+(r>11||i<0?-1:r<0||i>11?1:0);return m.pc+a}var nH={names:np,get:nb,name:nA,pitchClass:ny,accidentals:ng,octave:nv,midi:nj,ascending:nB,descending:nG,distance:nC,sortedNames:nU,sortedUniqNames:nL,fromMidi:nx,fromMidiSharps:nV,freq:nN,fromFreq:nD,fromFreqSharps:nw,chroma:nI,transpose:nS,tr:nq,transposeBy:nE,trBy:nk,transposeFrom:nF,trFrom:nO,transposeFifths:nT,transposeOctaves:nz,trFifths:n$,simplify:n_,enharmonic:nR},nJ={empty:!0,name:"",chordType:""},nW={},nK=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/,nQ="I II III IV V VI VII",nX=nQ.split(" ");nQ.toLowerCase().split(" "),Object.freeze([]);var nY=(n,e,t="")=>e.map((e,m)=>`${n[m]}${t}${e}`);function nZ(n,e,t,m,r){return i=>{let u=n.map(n=>(function n(e){return"string"==typeof e?nW[e]||(nW[e]=function(n){let[e,t,m,r]=nK.exec(n)||["","","",""];if(!m)return nJ;let i=m.toUpperCase(),a=nX.indexOf(i),o=x(t);return{empty:!1,name:e,roman:m,interval:p({step:a,alt:o,dir:1}).name,acc:t,chordType:r,alt:o,step:a,major:m===i,oct:0,dir:1}}(e)):"number"==typeof e?n(nX[e]||""):o(e)?n(I(e.alt)+nX[e.step]):a(e)?n(e.name):nJ})(n).interval||""),P=u.map(n=>nS(i,n)),M=nY(P,t),s=P.map(n=>nS(n,"5P")).map(n=>P.includes(n)&&!M.includes(n+"7")?n+"7":""),l=n1(s,e),c=s.map(n=>n?nS(n.slice(0,-1),"5d")+"7":""),d=n1(c,e);return{tonic:i,grades:n,intervals:u,scale:P,triads:nY(P,e),chords:M,chordsHarmonicFunction:m.slice(),chordScales:nY(P,r," "),secondaryDominants:s,secondaryDominantSupertonics:l,substituteDominants:c,substituteDominantSupertonics:d,secondaryDominantsMinorRelative:l,substituteDominantsMinorRelative:d}}}var n1=(n,e)=>n.map((n,t)=>{if(!n)return"";let m=nS(n.slice(0,-1),"5P");return e[t].endsWith("m")?m+"m7":m+"m7b5"});nZ("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),nZ("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),nZ("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),nZ("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));var n7=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],n5={...$,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},n3=n7.map(function(n){let[e,t,m,r,i,a,o]=n,u=Number(t).toString(2);return{empty:!1,intervals:(nr[r]||nt).intervals,modeNum:e,chroma:u,normalized:u,name:r,setNum:t,alt:m,triad:i,seventh:a,aliases:o?[o]:[]}}),n4={};function n9(n){return(e,t)=>{let m=function n(e){return"string"==typeof e?n4[e.toLowerCase()]||n5:e&&e.name?n(e.name):n5}(e);if(m.empty)return[];let r=O(m.modeNum,n),i=m.intervals.map(n=>q(t,n));return r.map((n,e)=>i[e]+n)}}function n2(n){let e=T(n.map(n=>"number"==typeof n?n:function(n){if(+n>=0&&127>=+n)return+n;let e=D(n);return e.empty?null:e.midi}(n)));return n.length&&e.length===n.length?e.reduce((n,e)=>{let t=n[n.length-1];return n.concat(F(t,e).slice(1))},[e[0]]):[]}function n0(n,e){return n2(n).map(n=>nc(n,e))}n3.forEach(n=>{n4[n.name]=n,n.aliases.forEach(e=>{n4[e]=n})}),n9(n7.map(n=>n[4])),n9(n7.map(n=>n[5]));var n6={numeric:n2,chromatic:n0},n8={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function en(n){if("string"!=typeof n)return["",""];let e=n.indexOf(" "),t=D(n.substring(0,e));if(t.empty){let e=D(n);return e.empty?["",n.toLowerCase()]:[e.name,""]}let m=n.substring(t.name.length+1).toLowerCase();return[t.name,m.length?m:""]}var ee=function(){return nm.map(n=>n.name)};function et(n){let e=Array.isArray(n)?n:en(n),t=D(e[0]).name,m=nr[e[1]]||nt;if(m.empty)return n8;let r=m.name,i=t?m.intervals.map(n=>q(t,n)):[],a=t?t+" "+r:r;return{...m,name:a,type:r,tonic:t,notes:i}}var em=et;function er(n,e={}){let t=J(n),m=D(e.tonic??n[0]??""),r=m.chroma;if(void 0===r)return[];let i=t.split("");i[r]="1";let a=O(r,i).join(""),o=ni().find(n=>n.chroma===a),u=[];return o&&u.push(m.name+" "+o.name),"exact"===e.match||ea(a).forEach(n=>{u.push(m.name+" "+n)}),u}function ei(n){let e=K(et(n).chroma);return X.slice().filter(n=>e(n.chroma)).map(n=>n.aliases[0])}function ea(n){let e=function(n){let e=H(n).setNum;return n=>{let t=H(n).setNum;return e&&e!==t&&(t|e)===t}}(U(n)?n:et(n).chroma);return ni().filter(n=>e(n.chroma)).map(n=>n.name)}function eo(n){let e=K(et(n).chroma);return ni().filter(n=>e(n.chroma)).map(n=>n.name)}function eu(n){let e=n.map(n=>D(n).pc).filter(n=>n),t=e[0],m=nL(e);return O(m.indexOf(t),m)}function eP(n){let e=et(n);if(e.empty)return[];let t=e.tonic?e.notes:e.intervals;return(function(n,e=!0){let t=H(n).chroma.split("");return T(t.map((n,m)=>{let r=O(m,t);return e&&"0"===r[0]?null:r.join("")}))})(e.chroma).map((n,e)=>{let m=et(n).name;return m?[t[e],m]:["",""]}).filter(n=>n[0])}function eM(n){let e=function(n){let e=Array.isArray(n)?eu(n):et(n).notes,t=e.map(n=>D(n).chroma);return n=>{let m="number"==typeof n?D(nc(n)):D(n),r=m.height;if(void 0===r)return;let i=t.indexOf(r%12);if(-1!==i)return nR(m.name,e[i])}}(n);return(n,t)=>{let m=D(n).height,r=D(t).height;return void 0===m||void 0===r?[]:F(m,r).map(e).filter(n=>n)}}function es(n){let{intervals:e,tonic:t}=et(n),m=E(e,t);return n=>n?m(n>0?n-1:n):""}function el(n){let{intervals:e,tonic:t}=et(n);return E(e,t)}var ec={degrees:es,detect:er,extended:ea,get:et,modeNames:eP,names:ee,rangeOf:eM,reduced:eo,scaleChords:ei,scaleNotes:eu,steps:el,tokenize:en,scale:em}}}]);